<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="SportPulse - Your ultimate destination for real-time sports updates, including league tables, fixtures, results, and highlights across top leagues.">
    <meta name="keywords" content="sports, Premier League, La Liga, Bundesliga, live scores, fixtures, results, highlights">
    <meta name="author" content="SportPulse Team">
    <title>SportPulse - Live Sports Updates</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
    <link rel="icon" type="image/png" href="https://via.placeholder.com/32" sizes="32x32">
</head>
<body>
    <!-- Loader -->
    <div id="loader" class="loader-container">
        <div class="ball-loader">
            <div class="ball">
                <div class="inner">
                    <div class="line"></div>
                    <div class="line line--two"></div>
                    <div class="oval"></div>
                    <div class="oval oval--two"></div>
                </div>
            </div>
            <div class="shadow"></div>
        </div>
        <div class="loader-text">SportPulse</div>
    </div>

    <!-- Main Content -->
    <div id="mainContent" class="main-content">
        <!-- Navbar -->
        <nav class="navbar">
            <div class="container">
                <div class="logo" onclick="showSportsSelection()">
                    <i class="fas fa-trophy"></i> SportPulse
                </div>
                <ul class="nav-menu">
                    <li class="navbar-item"><a href="#" onclick="closeMobileMenu()">Stats</a></li>
                    <li class="navbar-item"><a href="#" onclick="closeMobileMenu()">News</a></li>
                    <li class="navbar-item dropdown">
                        <a href="#" class="dropdown-toggle">Highlights</a>
                        <div class="dropdown-menu">
                            <a href="#" data-league="premier-league" onclick="closeMobileMenu()">Premier League</a>
                            <a href="#" data-league="la-liga" onclick="closeMobileMenu()">La Liga</a>
                            <a href="#" data-league="bundesliga" onclick="closeMobileMenu()">Bundesliga</a>
                        </div>
                    </li>
                    <li class="navbar-item"><a href="#" onclick="closeMobileMenu()">Transfers</a></li>
                    <li class="navbar-item"><a href="#" onclick="closeMobileMenu()">Contact</a></li>
                    <li class="navbar-item"><a href="#" onclick="closeMobileMenu()">About</a></li>
                </ul>
                <div class="nav-controls">
                    <label id="theme-toggle-button">
                        <input type="checkbox" id="toggle">
                        <svg viewBox="0 0 80 48" xmlns="http://www.w3.org/2000/svg">
                            <g transform="translate(4 4)" data-name="Component 15 – 1" id="Component_15_1">
                                <g filter="url(#container)">
                                    <rect fill="#83cbd8" rx="20" height="40" width="72" data-name="container" id="container"></rect>
                                </g>
                                <g transform="translate(2 2)" id="button">
                                    <g filter="url(#button-shadow)">
                                        <circle cx="14" cy="14" r="14" fill="#fff"></circle>
                                    </g>
                                    <g id="sun">
                                        <circle cx="14" cy="14" r="12" fill="#ffeb3b" id="sun-outer-2"></circle>
                                        <g id="sun-3">
                                            <circle cx="4" cy="4" r="4" fill="#fff" id="sun-inner"></circle>
                                        </g>
                                    </g>
                                    <g id="moon-3">
                                        <circle cx="14" cy="14" r="12" fill="#fff"></circle>
                                        <circle cx="10" cy="14" r="12" fill="#2b4360"></circle>
                                    </g>
                                    <g id="cloud">
                                        <path d="M14 10a4 4 0 0 0-4 4h-2a4 4 0 0 0 0 8h10a4 4 0 0 0 0-8h-2a4 4 0 0 0-2-4z" fill="#fff"></path>
                                    </g>
                                    <g id="stars">
                                        <path d="M2 2l2 2-2 2-2-2z" fill="#fff"></path>
                                        <path d="M8 6l1 1-1 1-1-1z" fill="#fff"></path>
                                        <path d="M4 10l1 1-1 1-1-1z" fill="#fff"></path>
                                    </g>
                                </g>
                            </g>
                            <defs>
                                <filter id="container" x="0" y="0" width="80" height="48" filterUnits="userSpaceOnUse">
                                    <feGaussianBlur in="SourceGraphic" stdDeviation="2"></feGaussianBlur>
                                </filter>
                                <filter id="button-shadow" x="0" y="0" width="28" height="28" filterUnits="userSpaceOnUse">
                                    <feGaussianBlur in="SourceGraphic" stdDeviation="1"></feGaussianBlur>
                                </filter>
                            </defs>
                        </svg>
                    </label>
                    <div class="hamburger">
                        <input type="checkbox">
                        <svg viewBox="0 0 32 32">
                            <path class="line line-top-bottom" d="M27 10 13 10"></path>
                            <path class="line" d="M27 16 13 16"></path>
                            <path class="line line-top-bottom" d="M27 22 13 22"></path>
                        </svg>
                    </div>
                </div>
            </div>
        </nav>

        <!-- Sports Selection -->
        <div id="sportsSelection" class="container">
            <header>
                <h1>SportPulse</h1>
                <p class="tagline">Your Ultimate Destination for Live Sports Updates</p>
            </header>
            <div class="sports-grid">
                <div class="sport-card" data-sport="premier-league">
                    <img src="https://upload.wikimedia.org/wikipedia/en/f/f2/Premier_League_Logo.svg" alt="Premier League" class="sport-icon">
                    <h3>Premier League</h3>
                    <p>England's top-tier football league</p>
                </div>
                <div class="sport-card" data-sport="la-liga">
                    <img src="https://www.laliga.com/assets/logo-laliga-blanco.svg" alt="La Liga" class="sport-icon">
                    <h3>La Liga</h3>
                    <p>Spain's premier football competition</p>
                </div>
                <div class="sport-card" data-sport="bundesliga">
                    <img src="https://www.bundesliga.com/assets/logo-bundesliga.svg" alt="Bundesliga" class="sport-icon">
                    <h3>Bundesliga</h3>
                    <p>Germany's elite football league</p>
                </div>
                <div class="sport-card disabled">
                    <img src="https://via.placeholder.com/50" alt="Coming Soon" class="sport-icon">
                    <h3>More Sports</h3>
                    <p class="coming-soon">Coming Soon!</p>
                </div>
            </div>
        </div>

        <!-- Premier League Dashboard -->
        <div id="premierLeagueDashboard" class="league-dashboard">
            <div class="container">
                <div class="dashboard-grid">
                    <div class="card">
                        <h2><i class="fas fa-trophy"></i> League Table</h2>
                        <div class="table-container">
                            <div id="pl-table-loading" class="loading">Loading table...</div>
                            <div id="pl-table-error" class="error" style="display: none;"></div>
                            <div id="pl-table-status-container"></div>
                            <table id="pl-league-table">
                                <thead>
                                    <tr>
                                        <th>Pos</th>
                                        <th>Team</th>
                                        <th>P</th>
                                        <th>W</th>
                                        <th>D</th>
                                        <th>L</th>
                                        <th>GD</th>
                                        <th>Pts</th>
                                    </tr>
                                </thead>
                                <tbody id="pl-table-body"></tbody>
                            </table>
                        </div>
                    </div>
                    <div class="card">
                        <h2><i class="fas fa-calendar-alt"></i> Upcoming Fixtures</h2>
                        <div class="fixtures-container">
                            <div id="pl-fixtures-loading" class="loading">Loading fixtures...</div>
                            <div id="pl-fixtures-error" class="error" style="display: none;"></div>
                            <div id="pl-fixtures-list"></div>
                        </div>
                    </div>
                    <div class="card">
                        <h2><i class="fas fa-futbol"></i> Recent Results</h2>
                        <div class="results-container">
                            <div id="pl-results-loading" class="loading">Loading results...</div>
                            <div id="pl-results-error" class="error" style="display: none;"></div>
                            <div id="pl-results-list"></div>
                        </div>
                    </div>
                </div>
                <button class="refresh-btn" onclick="loadPremierLeagueData()">Refresh Data</button>
            </div>
        </div>

        <!-- La Liga Dashboard -->
        <div id="laLigaDashboard" class="league-dashboard">
            <div class="container">
                <div class="dashboard-grid">
                    <div class="card">
                        <h2><i class="fas fa-trophy"></i> League Table</h2>
                        <div class="table-container">
                            <div id="ll-table-loading" class="loading">Loading table...</div>
                            <div id="ll-table-error" class="error" style="display: none;"></div>
                            <div id="ll-table-status-container"></div>
                            <table id="ll-league-table">
                                <thead>
                                    <tr>
                                        <th>Pos</th>
                                        <th>Team</th>
                                        <th>P</th>
                                        <th>W</th>
                                        <th>D</th>
                                        <th>L</th>
                                        <th>GD</th>
                                        <th>Pts</th>
                                    </tr>
                                </thead>
                                <tbody id="ll-table-body"></tbody>
                            </table>
                        </div>
                    </div>
                    <div class="card">
                        <h2><i class="fas fa-calendar-alt"></i> Upcoming Fixtures</h2>
                        <div class="fixtures-container">
                            <div id="ll-fixtures-loading" class="loading">Loading fixtures...</div>
                            <div id="ll-fixtures-error" class="error" style="display: none;"></div>
                            <div id="ll-fixtures-list"></div>
                        </div>
                    </div>
                    <div class="card">
                        <h2><i class="fas fa-futbol"></i> Recent Results</h2>
                        <div class="results-container">
                            <div id="ll-results-loading" class="loading">Loading results...</div>
                            <div id="ll-results-error" class="error" style="display: none;"></div>
                            <div id="ll-results-list"></div>
                        </div>
                    </div>
                </div>
                <button class="refresh-btn" onclick="loadLaLigaData()">Refresh Data</button>
            </div>
        </div>

        <!-- Bundesliga Dashboard -->
        <div id="bundesligaDashboard" class="league-dashboard">
            <div class="container">
                <div class="dashboard-grid">
                    <div class="card">
                        <h2><i class="fas fa-trophy"></i> League Table</h2>
                        <div class="table-container">
                            <div id="bl-table-loading" class="loading">Loading table...</div>
                            <div id="bl-table-error" class="error" style="display: none;"></div>
                            <div id="bl-table-status-container"></div>
                            <table id="bl-league-table">
                                <thead>
                                    <tr>
                                        <th>Pos</th>
                                        <th>Team</th>
                                        <th>P</th>
                                        <th>W</th>
                                        <th>D</th>
                                        <th>L</th>
                                        <th>GD</th>
                                        <th>Pts</th>
                                    </tr>
                                </thead>
                                <tbody id="bl-table-body"></tbody>
                            </table>
                        </div>
                    </div>
                    <div class="card">
                        <h2><i class="fas fa-calendar-alt"></i> Upcoming Fixtures</h2>
                        <div class="fixtures-container">
                            <div id="bl-fixtures-loading" class="loading">Loading fixtures...</div>
                            <div id="bl-fixtures-error" class="error" style="display: none;"></div>
                            <div id="bl-fixtures-list"></div>
                        </div>
                    </div>
                    <div class="card">
                        <h2><i class="fas fa-futbol"></i> Recent Results</h2>
                        <div class="results-container">
                            <div id="bl-results-loading" class="loading">Loading results...</div>
                            <div id="bl-results-error" class="error" style="display: none;"></div>
                            <div id="bl-results-list"></div>
                        </div>
                    </div>
                </div>
                <button class="refresh-btn" onclick="loadBundesligaData()">Refresh Data</button>
            </div>
        </div>

        <!-- Highlights Dashboard -->
        <div id="highlightsDashboard" class="league-dashboard">
            <div class="container">
                <div class="highlights-container">
                    <div class="team-selector">
                        <h2><i class="fas fa-futbol"></i> Select a Team for Highlights</h2>
                        <div id="team-grid" class="team-grid"></div>
                    </div>
                    <div class="video-scroller">
                        <div id="highlights-loading" class="loading">Loading teams...</div>
                        <div id="highlights-error" class="error" style="display: none;"></div>
                        <div id="highlights-list" class="video-list">
                            <div class="status">Select a team above to view highlights</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Team Highlights Dashboard -->
        <div id="teamHighlightsDashboard" class="league-dashboard">
            <div class="container">
                <div class="team-highlights-container">
                    <div class="team-selector">
                        <h2>
                            <img id="team-logo" src="https://via.placeholder.com/80" alt="Team Logo" class="team-icon">
                            <span id="team-name">Team Highlights</span>
                        </h2>
                    </div>
                    <div class="video-scroller">
                        <div id="featured-video" class="featured-video">
                            <!-- Featured video will be injected here -->
                        </div>
                        <div id="featured-video-loading" class="loading">Loading featured video...</div>
                        <div id="featured-video-error" class="error" style="display: none;"></div>
                        <div id="team-highlights-list" class="video-list">
                            <!-- Team highlights will be injected here -->
                        </div>
                        <div id="team-highlights-loading" class="loading">Loading highlights...</div>
                        <div id="team-highlights-error" class="error" style="display: none;"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Modal for Fixtures/Results Details -->
        <div id="fixture-modal" class="modal">
            <div class="modal-content">
                <span class="close-modal" onclick="closeModal()">×</span>
                <div id="modal-content" class="fixture-details"></div>
            </div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>
